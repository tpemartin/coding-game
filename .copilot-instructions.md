# Copilot Instructions for MUI React Development

## Project Context
This is a React + TypeScript application using Material-UI (MUI) as the primary component framework. The project uses Vite as the build tool and includes PWA support and Google Tag Manager analytics.

## Core Principles

### 1. Use MUI Components First
- Prioritize MUI components over custom HTML elements or external libraries
- Use `sx` prop for inline styling instead of CSS modules when possible
- Leverage MUI's responsive design system with `breakpoints`
- Use `useTheme` hook for dynamic theme-aware styling

### 2. Component Composition
- Break down pages into smaller, reusable MUI components
- Use layout components: `Container`, `Box`, `Grid`, `Stack`
- Combine primitive components to create custom layouts
- Keep components focused on single responsibility

### 3. Styling Strategy
```tsx
// Preferred: sx prop with theme integration
<Box sx={{ 
  display: 'flex', 
  gap: 2, 
  flexDirection: { xs: 'column', md: 'row' },
  p: { xs: 2, md: 4 }
}}>
  {children}
</Box>

// Use theme spacing: spacing(n) = n * 8px
<Box sx={{ p: 2 }} /> // 16px padding

// Responsive design
<Typography sx={{ fontSize: { xs: '1rem', md: '1.5rem' } }}>
  Responsive text
</Typography>
```

### 4. Common Patterns

#### Page Layouts
```tsx
import { Container, Box, Stack } from '@mui/material'

function PageLayout() {
  return (
    <Container maxWidth="lg" sx={{ py: 4 }}>
      <Stack spacing={4}>
        {/* Content sections */}
      </Stack>
    </Container>
  )
}
```

#### Forms
- Use `TextField` for inputs
- Use `FormControl` + `InputLabel` for structured forms
- Use `Button` with `variant="contained"` for primary actions
- Use `variant="outlined"` for secondary actions

#### Data Display
- Use `Table` component for tabular data
- Use `Card` for grouped content
- Use `List` + `ListItem` for vertical lists
- Use `Grid` for responsive card layouts

#### Navigation
- Use `AppBar` for top navigation
- Use `Drawer` for side navigation
- Use React Router with MUI components

### 5. Theme Customization
- Customize colors in `src/theme.ts`
- Use `createTheme()` to define design tokens
- Access theme values via `useTheme()` hook
- Override component styles via `components` property in theme

### 6. Component Best Practices

#### Buttons
```tsx
<Button variant="contained" color="primary" size="large">
  Primary Action
</Button>
<Button variant="outlined" onClick={handleClick}>
  Secondary Action
</Button>
<Button variant="text">
  Tertiary Action
</Button>
```

#### Cards
```tsx
<Card sx={{ mb: 2 }}>
  <CardHeader title="Card Title" />
  <CardContent>
    {/* Card content */}
  </CardContent>
  <CardActions>
    <Button>Action</Button>
  </CardActions>
</Card>
```

#### Spacing & Layout
- Use `Stack` for flex layouts with spacing
- Use `spacing` prop: `spacing={2}` = 16px gap
- Use `sx` prop for responsive spacing
- Avoid margin on last child; use `gap` with Stack

### 7. Accessibility
- Always use semantic HTML components
- Provide `aria-label` for icon-only buttons
- Use proper heading hierarchy (h1, h2, etc.)
- Ensure color contrast meets WCAG standards
- Use `disabled` prop instead of removing interactive elements

### 8. Performance
- Use `React.memo` for expensive components
- Lazy load pages with `React.lazy` and `Suspense`
- Avoid creating objects in sx prop; define outside or use callbacks
- Use `useCallback` for event handlers in lists

### 9. Common Imports
```tsx
import {
  Box, Container, Stack, Grid,
  Button, TextField, Card, CardContent,
  Typography, AppBar, Toolbar, Drawer,
  Dialog, Modal, Snackbar, Alert,
  Table, TableBody, TableCell, TableHead, TableRow,
  List, ListItem, ListItemIcon, ListItemText,
  IconButton, Menu, MenuItem,
  CircularProgress, Skeleton,
  useTheme, useMediaQuery
} from '@mui/material'
```

### 10. File Structure
```
src/
├── components/
│   ├── common/              # Shared components
│   │   ├── Header.tsx
│   │   ├── Footer.tsx
│   │   └── Sidebar.tsx
│   ├── games/              # Game-specific components
│   └── layout/             # Layout wrappers
├── pages/                  # Page components
├── hooks/                  # Custom React hooks
├── utils/                  # Helper functions
├── services/               # API/external services
├── theme.ts               # MUI theme config
└── App.tsx
```

## When Generating Code
1. **Always use MUI components** as the primary UI library
2. **Include responsive design** with breakpoints in sx prop
3. **Follow spacing conventions** - use theme spacing system
4. **Use TypeScript properly** - type all props and state
5. **Keep components small** - max 200 lines per component
6. **Document complex logic** with clear comments
7. **Include error boundaries** for page-level components

## Common Improvements
- Replace any `<div>` with appropriate MUI component
- Use `Container` instead of custom max-width divs
- Use `Typography` instead of `<span>` or `<p>`
- Use `Stack` instead of manual flexbox
- Use `sx` prop instead of CSS files when possible

## Theme Colors
The current theme uses:
- **Primary**: #1976d2 (blue)
- **Secondary**: #9c27b0 (purple)

Extend with semantic colors as needed in `src/theme.ts`.

## Quick References
- [MUI Documentation](https://mui.com)
- [Theme API](https://mui.com/material-ui/customization/theming/)
- [Component API](https://mui.com/material-ui/api/box/)
- [Customization Guide](https://mui.com/material-ui/customization/how-to-customize/)
